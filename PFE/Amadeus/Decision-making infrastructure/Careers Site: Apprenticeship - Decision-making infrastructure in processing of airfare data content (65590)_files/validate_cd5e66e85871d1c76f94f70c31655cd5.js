function StringFormat(){}StringFormat.prototype.format=function(a){return a};StringFormat.prototype.parse=function(a){return void 0!==a&&null!==a?a.toString():null};StringFormat.prototype.toLocalString=function(a){return""};StringFormat.prototype.toLocalizedString=function(a){return""};function Validator(a){this.fieldList=[];this.fieldMap={};this.errorClass=a}
Validator.prototype.add=function(a,e,f,m,g){function h(c){var d=b.value;if(void 0==d)return null;if(!/[^ \t\r\n]/.test(d)){if(m)return b.className=l,d=f.toLocalizedString(),c=[,""],d&&(c[0]=d,c[1]=MessageFormat.format(MSGS.ERR_DATA_EXPECTED,c)),c[0]=a,b.title=MessageFormat.format(MSGS.ERR_DATA_REQUIRED,c);b.className=t;b.title!=n&&(b.title=n);return null}v&&(d=d.replace(/^\s*((\s*[^\s])*)\s*$/,"$1"));/[\u201C\u201D\u2018\u2019\u2013\u2014\u2015\u2026\u00a9\u00ae\u2122\u00bc\u00bd\u00be\u2153\u2154\u215b\u215c\u215d\u215e\u263a\u263b]/.test(d)&&
(d=d.replace(/[\u201C\u201D]/g,'"').replace(/[\u2018\u2019]/g,"'").replace(/[\u2013\u2014\u2015]/g,"-").replace(/\u2026/g,"...").replace(/\u00a9/g,"(C)").replace(/\u00ae/g,"(R)").replace(/\u2122/g,"(tm)").replace(/\u00bc/g,"1/4").replace(/\u00bd/g,"1/2").replace(/\u00be/g,"3/4").replace(/\u2153/g,"1/3").replace(/\u2154/g,"2/3").replace(/\u215b/g,"1/8").replace(/\u215c/g,"3/8").replace(/\u215d/g,"5/8").replace(/\u215e/g,"7/8").replace(/[\u263a\u263b]/g,"\x3d)"));if(s){var e=d;/\r\n/.test(d)||(e=e.replace(/\n/g,
"\r\n"));e=e.length;if(e>s)return b.className=l,c=[],c[0]=a,c[1]=e,c[2]=s,b.title=MessageFormat.format(MSGS.ERR_DATA_TOO_LONG,c)}d=f.parse(d);if(null!==d){c||(c=f.format(d),c!=b.value&&(b.value=c));if(null!==p&&void 0!==p&&d<p||null!==q&&void 0!==q&&d>q)return b.className=l,c=[],c[0]=a,c[1]=f.format(p),c[2]=f.format(q),b.title=MessageFormat.format(MSGS.ERR_DATA_OUT_OF_RANGE,c);b.className=t;b.title!=n&&(b.title=n);return null}b.className=l;d=f.toLocalizedString();c=[,""];d&&(c[0]=d,c[1]=MessageFormat.format(MSGS.ERR_DATA_EXPECTED,
c));c[0]=a;c=MessageFormat.format(MSGS.ERR_DATA_FORMAT,c);b.title!=c&&(b.title=c);return b.title}function w(){function a(){r?(r=0,k=setTimeout(a,500)):(h(!0),k=0)}k?r=1:(r=0,k=setTimeout(a,500));return!0}function u(){k&&(clearTimeout(k),k=0);h()}var b="string"==typeof e?document.getElementById(e):e,n=b.title,l,p=g&&g.min,q=g&&g.max,s=g&&g.maxLength,v=!g||void 0===g.trim||g.trim;e=b.id;l=g&&g.errorClass?g.errorClass:this.errorClass;var t=b.className==l?"":b.className,k=0,r=0;5.5<=ieVersion()?(chain(b,
"onkeyup",w),chain(b,"onblur",u),chain(b,"onchange",u)):(chain(b,"onkeyup",function(){h(!0);return!0}),chain(b,"onfocus",function(){h(!0);return!0}),chain(b,"onchange",function(){h();return!0}),chain(b,"onblur",function(){h();return!0}));void 0===this.fieldMap[e]&&(this.fieldMap[e]=this.fieldList.length);this.fieldList[this.fieldMap[e]]={id:e,fmt:f,validate:h};h()};
Validator.prototype.flush=function(){for(var a=0;a<this.fieldList.length;)document.getElementById(this.fieldList[a].id)?++a:this.fieldList.splice(a,1);this.fieldMap={};for(a=0;a<this.fieldList.length;++a)this.fieldMap[this.fieldList[a].id]=a};Validator.prototype.validate=function(a,e,f){if(void 0===this.fieldMap[a])return!1;(a=this.fieldList[this.fieldMap[a]].validate())&&(e[e.length]=a);return!!a};
Validator.prototype.validateAll=function(a,e){for(var f=0;f<this.fieldList.length;++f)if(document.getElementById(this.fieldList[f].id)){var m=this.fieldList[f].validate();m&&(a[a.length]=m)}return 0===a.length&&0===e.length};