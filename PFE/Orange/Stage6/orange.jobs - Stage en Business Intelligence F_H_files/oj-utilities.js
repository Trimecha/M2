(function($){$.fn.bkValidation=function(){var o={failedClass:'validation-failed',passedClass:'validation-passed',divClass:'validation-advice'}
$('.'+o.divClass).remove();var isValable=true;for(var i=0;i<=validationRules.length-1;i++){if($('.'+validationRules[i][0]).length>0){$('.'+validationRules[i][0]).each(function(index){var $elm=$(this);var val=$elm.val();if(!(validationRules[i][2](val,$elm))){if(!$elm.hasClass(o.failedClass))$elm.addClass(o.failedClass);var id='advice-'+validationRules[i][0]+'-'+$elm.attr('id');var $label=$elm.hasClass('form-container')?$elm:$elm.parents('.form-row').find('.field-label');$label.append('<span class="'+o.divClass+'" id="'+id+'">'+validationRules[i][1]+'</span>');isValable=false;$elm.on('focus',function(){$('#'+id).remove();});$elm.on('change',function(){$('#'+id).remove();});$elm.on('click',function(){$('#'+id).remove();});}else{if(!$elm.hasClass(o.passedClass))$elm.addClass(o.passedClass);if($elm.hasClass(o.failedClass))$elm.removeClass(o.failedClass);}});}}if(!isValable)$('.'+o.divClass).on('click',function(){$(this).remove();});return isValable;}})(jQuery);function autocomplete(id,parent,params,minchar){if($('#'+id).length==0)return;if(!minchar)minchar=1;var url='/jobs/autocomplete.do';if(params==null)params="";else if(typeof params=='string')params="product="+params;var lang=($('#lang').length>0)?$('#lang').html():'';if(params!="")params+="&";params+="lang="+lang;$('body').click(function(){$('#'+id).fadeOut();});$('#'+parent).keyup(function(){$('#id_'+$(this).attr('id')).val('');if($(this).val().length>=minchar){dataAjax=params+'&token='+$(this).val();$.ajax({url:url,contentType:"application/html;charset=UTF-8",data:dataAjax,dataType:'html',complete:function(request){},success:function(request){$('#'+id).width($('#'+parent).outerWidth(false));$('#'+id).fadeIn();$('#'+id).html(request);$('#'+id).find('li').click(function(){$('#'+parent).val($(this).html());getSelectionId($('#'+parent),$(this));$('#'+id).fadeOut();});},error:function(request){}});}else $('#'+id).fadeOut();});}function localAutocomplete(id,parent,tableContent,minchar){if($('#'+id).length==0||!tableContent)return;var items=tableContent.items;if(!$.isArray(items))return;if(!minchar)minchar=1;$('body').click(function(){$('#'+id).fadeOut();});$('#'+parent).keyup(function(){$('#id_'+$(this).attr('id')).val('');if($(this).val().length>=minchar){var val=$(this).val().toLowerCase();var ul='';var count=0;var found=false;for(var i=0;i<items.length;i++){var item=items[i];var title=item.title;if(title.toLowerCase().indexOf(val)==0){found=true;ul+='<li id='+item.id+'>'+title+'</li>';}else if(found)break;}ul='<ul>'+ul+'</ul>';$('#'+id).width($('#'+parent).outerWidth(false));$('#'+id).fadeIn();$('#'+id).html(ul);$('#'+id).find('li').click(function(){$('#'+parent).val($(this).html());getSelectionId($('#'+parent),$(this));$('#'+id).fadeOut();});}else $('#'+id).fadeOut();});}function getSelectionId(field,item){var fieldid=$('#id_'+field.attr('id'));if((fieldid.length>0)&&(item.length>0)){try{fieldid.val(item.attr('id'));}catch(e){throw(e);}}}jQuery.fn.exists=function(){return this&&this.length>0;}
function getPubLang(){return NGInfos?NGInfos.substring(0,2):'FR';}function openZoomWindow(href){var PopupManager=require('digital/PopupManager');PopupManager.handleLink(href);}function openExtWindow(href,h,w,n){var PopupManager=require('digital/PopupManager');PopupManager.handleLink(href);}function openExtModal(url,options){$.ajax({contentType:"application/html;charset=UTF-8",url:url,success:function(data){digital.utils.openPopup(data,options);}});}function openNGWindow(href){window.open(href);}function statInit(code,params,url){if(!code)return;var ga_url=url?url:self.location.href;if(params){if(ga_url.indexOf("?")<0)ga_url+="?";else ga_url+="&";ga_url+=params;}statTrackPage(code,ga_url);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();}function statTrackPage(code,url){if(!code)return;var _gaq=_gaq||[];_gaq.push(['_setAccount',code]);_gaq.push(['_trackPageview',url]);}function statParseLink(code){if(!code)return;$('#main a').on('mouseup',function(){var $this=$(this);var href=$this.attr('href');if(!href||href==""||href.indexOf('javascript')!=-1||href[0]=='#')return;var href_lower=href.toLowerCase();var typelink=false;var link=false;var host=location.host;var ind=host.indexOf(":8080");if(ind!=-1)host=host.substring(0,ind);if(href_lower.length>=6&&href_lower.substr(0,6)=="mailto"){typelink='Mail';link=href.substring(7);}else if(href_lower.length>=4&&href_lower.substr(0,4)=="http"){var domain=document.domain.replace("www.",'');if(href_lower.indexOf(domain)==-1){typelink='External';link=href;}else{var isDoc=href_lower.match(/(?:pdf|xls|doc|ppt|eps|vsd|txt|csv|zip|rar|jsp|css)($|\&)/);if(isDoc)typelink='Documents';else{isDoc=href_lower.match(/(?:jpg|png|svg|gif)($|\&)/);if(isDoc)typelink='Images';else{isDoc=href_lower.match(/(?:mov|avi|wmv|swf|mp4|m4v|flv)($|\&)/);if(isDoc)typelink='Videos';else{isDoc=href_lower.match(/(?:mp3|wma|aac)($|\&)/);if(isDoc)typelink='Audios';}}}if(isDoc){link=href_lower;var ind1=link.lastIndexOf("/");if(ind1!=-1){link=link.substring(0,ind1);ind1=link.lastIndexOf("/");link=link.substring(ind1+1);}}else{typelink=$this.attr('data-action');if(!typelink)typelink="link";link=href;}}}if(typelink){_gaq.push(['_trackEvent',typelink,link]);}});}function Onglets(){this.settings=new Array();}Onglets.prototype.init=function(settings){this.settings=settings;}
Onglets.prototype.getParam=function(name,default_value){var value=(typeof(this.settings[name])=="undefined")?default_value:this.settings[name];if(value=="true"||value=="false")return(value=="true");return value;}
Onglets.prototype.Show=function(tab_id,panel_id){$tab_id=$("#"+tab_id);$tab_id.siblings().removeClass('current');$tab_id.addClass('current');$panel_id=$("#"+panel_id);$panel_id.siblings().removeClass('current');$panel_id.addClass('current');}
Onglets.prototype.getAnchor=function(){var pos,url=document.location.href;if((pos=url.lastIndexOf('#'))!=-1)return url.substring(pos+1);return"";}
var Onglets=new Onglets();function expandZone(tobeexpand,label,msgOn,msgOff){tobeexpand=$('#'+tobeexpand);label=$('#'+label);if(tobeexpand&&label){tobeexpand.toggle();var tmp=(tobeexpand.css('display')=="none")?msgOn:msgOff;var icone=(tobeexpand.css('display')!="none")?"icoPlus":"icoMinus";label.html("<img src='../images2/interface/"+icone+".gif'>"+tmp);}}function gotoSearch(query){return gotoUrl('/jobs/search.do'+(query?'?'+query:''));}function gotoProfile(){gotoUrl('/jobs/cv.do','all');}function gotoOffer(joid){openExtWindow(getOfferUrl(joid)+'&wmode=light');}function getOfferUrl(joid){return'/jobs/offer.do?joid='+joid;}function addUrl(url,tobeadded){if(tobeadded&&url){url+=url.indexOf('?')==-1?'?':'&';url+=tobeadded;}return url;}function printUrl(url,wmode){url=addUrl(url,wmode?'wmode='+wmode:false);var _w=window.open(url,'w_print','toolbar=yes,location=yes,directories=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,copyhistory=no');if(_w)_w.focus();}function printoffer(url){if(ieVersion===9||ieVersion===8||ieVersion===7){var printurl=url.replace("\/offer.do","\/printoffer.do")+document.location.search;var _w=window.open(printurl,'w_print','width=620px,toolbar=yes,location=yes,directories=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,copyhistory=no');if(_w)_w.focus();}else window.print();}function gotoUrl(url,wmode){url=addUrl(url,wmode?'wmode='+wmode:false);if(top.opener){window.close();top.opener.location=url;}else top.location=url;}function getUrl(options){var localhost=self.location.host.indexOf("localhost:8080")!=-1;var url='';if(localhost){url='http://localhost:8080/orangecorp/jobs/'+options.requestName;if(options.action)url+=options.action;url+=".jsp";}else{url='/jobs/ajaxRequest.do';url+='?lang='+getPubLang();url+='&requestName='+options.requestName;url+="&do="+(options.action?options.action:"select");url+="&mod_out="+(options.mod_out?options.mod_out:"XHTML");if(options.params&&options.params!='')url+="&"+options.params;}return url;}function updateCheck(e){var myLi=$(e).parent();var myCheck=myLi.find('input').first();myCheck.click();myCheck.prop('checked')?$(e).removeClass('cb_off').addClass('cb_on'):$(e).removeClass('cb_on').addClass('cb_off');}function updateRadio(e){var ul=$(e).parent("li").parent("ul");ul.find('input').each(function(){if($(this).prop('checked'))$(this).click();});ul.find('a').each(function(){$(this).removeClass('cb_on').addClass('cb_off');});updateCheck(e);}function updateCheckFromA(e){var myLi=$(e).parent();var myCheck=myLi.find('input').first();myCheck.prop('checked')?$(e).removeClass('cb_off').addClass('cb_on'):$(e).removeClass('cb_on').addClass('cb_off');}function checkbox(elm){this.jobApp.controller.toggleCheckbox(elm);}function detectQT(){if(navigator.plugins){for(i=0;i<navigator.plugins.length;i++){if(navigator.plugins[i].name.indexOf("QuickTime")>=0)return true;}}return false;}function createPlayer(ext,file,image,width,height){if(ext=="mp4"&&detectQT()){document.write('<embed src="'+file+'" width="'+width+'" height="'+height+'">');}else{document.write('<p id="player1"><a href="http://www.macromedia.com/go/getflashplayer">Flash Player n&eacute;cessaire</a></p>');document.write('<sc'+'ript language="javascript" type="text/javascript">');document.write('var s1 = new SWFObject("../../../../js/plugins/flash/player.swf", "single", '+width+', '+height+', "10");');document.write('s1.addParam("allowfullscreen","true");');document.write('s1.addVariable("file","'+file+'");');document.write('s1.addVariable("image","'+image+'");');document.write('s1.addVariable("width","'+width+'");');document.write('s1.addVariable("height","'+height+'");');document.write('s1.write("player1");');document.write('</sc'+'ript>');}}function setComboValue(combo,val){for(var i=0;i<combo.length;i++){if(combo[i].value==val)combo[i].selected=true;}}function BuildSearchQuery(f){var prompt="";var flag=0;var cadre='"';if(f.fields&&f.fields.value){tmpArray=f.fields.value.split("_");defaultArray="";if(f.fieldsdefault&&f.fieldsdefault.value)defaultArray=f.fieldsdefault.value.split("_");for(var i=0;i<tmpArray.length;i++){var name=tmpArray[i];var isWildcard=true;if(name.indexOf("*")==0)name=name.substr(1);else
isWildcard=false;var n=eval("f."+name);var ndefault=defaultArray[i];var value="";if(n){if(n.type.indexOf("select")>-1){if(n.options[n.options.selectedIndex].value.length>0){value=n.options[n.options.selectedIndex].value;prompt=n.options[n.options.selectedIndex].text;}}else{if(n.value.length>0){value=n.value;if(n.type=="text"){prompt=n.value;n.value=encodeSpecial(n.value);}else prompt="";}}if(value!=""&&value!=ndefault){if(f.prompt&&prompt.length>0){if(f.prompt.value.length>0)f.prompt.value+="_";f.prompt.value+=prompt;}}}}}if(f.from&&f.fromyear&&f.frommonth&&f.fromday){flag=1;if((m=getBuildSearchQueryValue(f.frommonth))&&(y=getBuildSearchQueryValue(f.fromyear))&&(d=getBuildSearchQueryValue(f.fromday)))f.from.value=y+((m<10)?"-0":"-")+m.toString()+((d<10)?"-0":"-")+d.toString();}if(f.to&&f.toyear&&f.tomonth&&f.today){flag=1;if((m=getBuildSearchQueryValue(f.tomonth))&&(y=getBuildSearchQueryValue(f.toyear))&&(d=getBuildSearchQueryValue(f.today)))f.to.value=y+((m<10)?"-0":"-")+m.toString()+((d<10)?"-0":"-")+d.toString();}if(f.prompt&&f.fulltext&&f.fulltext.value.length>0){if(f.fulltextdefault&&f.fulltext.value==f.fulltextdefault.value)f.fulltext.value='';else{f.fulltext.value=encodeSpecial(f.fulltext.value);if(f.prompt.value.length>0)f.prompt.value+="_";f.prompt.value+=f.fulltext.value;}}if(f.prompt)f.prompt.value=encodeSpecial(f.prompt.value);f.submit();}function encodeSpecial(s){s=s.replace(/'/g," ");s=s.replace(/-/g," ");s=s.replace(/"/g," ");s=s.replace(/ /g,"_");return s;}function SetIndexSearch(f,index){var tmp='&index=';if(index.indexOf(tmp)!=-1)index=index.substring(tmp.length);if(f.index)f.index.value=index;BuildSearchQuery(f);}(function($){var methods={init:function(options){var settings=$.extend({'params':'','formParams':'','formValid':true,'type':'GET','formName':false,'NOKredirect':"orange.jobs"},options);return this.each(function(){var $this=$(this)
$formName=$('#'+options.formName);if($formName.exists()){if(options.formValid&&!$formName.bkValidation())return;options.formParams=$formName.serialize();options.type=options.type?options.type:'POST';}this.xhr=$.ajax({url:getUrl(options),data:options.formParams,dataType:options.mod_out&&options.mod_out=="JSON"?'json':'html',type:options.type,cache:isIE()?false:true,success:$.proxy(options.success?options.success:this.success,this),error:$.proxy(options.error?options.error:this.error,this)});});},success:function(data,textStatus,jqXHR){return this.each(function(){var $this=$(this);if(data&&data!="NOK")$this.html(data);else $this.error();});},error:function(){return this.each(function(){var $this=$(this);self.location=this.NOKredirect;});}};$.fn.getFlux=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.tooltip');}};})(jQuery);function initLogin(){var ref="";if(document.referrer&&document.referrer.indexOf("http")==0){url=document.referrer;ref=url.match(/:\/\/(.[^/]+)/)[1];}$("#session").getFlux({'requestName':'Logged','mod_out':'JSON','params':'ref='+ref,'success':loginSuccess});}function loginSuccess(data,textStatus,jqXHR){if(data&&ojSession)ojSession=data.items[0];if(data&&data.items&&data.items.length>0&&data.items[0].email!=""){$("body").addClass('connected')
if(data.items[0].firstname.length>0)$('.oj-my-orange-jobs').html("#"+data.items[0].firstname);}else{$("body").removeClass('connected')
$(this).html($('#login').html());}}function profileElements(node){node.find('.block-profiled').each(function(i,elem){var $elem=$(elem);var pIn=[];var pOut=[];var mygroups=[];if($elem.data('profile-in')!=undefined)pIn=$elem.data('profile-in').split(",");if($elem.data('profile-out')!=undefined)pOut=$elem.data('profile-out').split(",");var profilegroupcode=ojSession.profilegroupcode||null;if(profilegroupcode==null||profilegroupcode.length==0)mygroups=["NEW"];else mygroups=ojSession.profilegroupcode.split(",");var isprofiled=true;$.each(pIn,function(i,v){if($.inArray(v,mygroups)<0)isprofiled=false;});$.each(pOut,function(i,v){if($.inArray(v,mygroups)>=0)isprofiled=false;});if(isprofiled)$elem.show();else $elem.hide();if((typeof _gaq!='undefined')&&isprofiled&&$elem.data('profile-in')!=undefined&&$elem.parents('.dgt-home-cover').length){_gaq.push(['_trackEvent',"home",$elem.data('profile-in')]);}});}function oldProfileElements(node){node.find('.profil_').each(function(i,elem){var $elem=$(elem);var mygroupe=ojSession.profilegroupcode;if(mygroupe==null||mygroupe=='')mygroupe="NEW";if($elem.hasClass("profil_"+mygroupe))$elem.show();else $elem.hide();});}function profileSuccess(data,textStatus,jqXHR){if(data&&ojSession)ojSession=data.items[0];profileElements($("#main"));}function homeRedirect(){if(top.opener)window.close();top.location="http://"+location.host+"/jobs/search.do";}function logout(){var $logout=$('<div/>');$logout.getFlux({'requestName':'Logout','mod_out':'JSON','success':logoutSuccess});}function logoutSuccess(data,textStatus,jqXHR){location.reload(true);}function recommendationLogout(){$('<div/>').getFlux({'requestName':'DisableRecommendation','action':'update','success':recommendationLogoutSuccess});}function recommendationLogoutSuccess(data,textStatus,jqXHR){homeRedirect();}function forgottenPassword(){$("#messagePasswordSent").getFlux({'requestName':'Password','formName':'passwordForm','formValid':false,'success':forgottenPasswordSuccess});}function forgottenPasswordSuccess(data,textStatus,jqXHR){$(this).show();}function basket_toggle(joid){$("#basket_toggle").getFlux({'requestName':'Basket','action':'update','params':'joid='+joid,'success':basket_toggle_success});}function basket_toggle_success(data,textStatus,jqXHR){var addtobasket='addtobasket';var deletefrombasket='deletefrombasket';var $elm=$('#basket_toggle');if(data&&data!="NOK"){if($elm.hasClass(addtobasket)){$elm.removeClass(addtobasket).addClass(deletefrombasket);$elm.find('a').attr('title',$elm.data('title-delete'));}else if($elm.hasClass(deletefrombasket)){$elm.removeClass(deletefrombasket).addClass(addtobasket);$elm.find('a').attr('title',$elm.data('title-add'));}}}function alert_delete(id){$('#'+id).getFlux({'requestName':'Alert','action':'delete','params':'aid='+id,'success':alert_delete_success});}function alert_delete_success(data,textStatus,jqXHR){$("#alert_list_"+this.id).remove();$(this).remove();}function alert_emulate(id){$("#"+id).click();}function alert_create(params,f){if(f===null)f=$("#jobsearchform");if(!params||params==undefined)params=f.serialize();$("<div></div>").getFlux({'requestName':'Alert','action':'edit','success':alert_create_success,'params':params});}function alert_create_success(data,textStatus,jqXHR){var PopupManager=require('digital/PopupManager');PopupManager.handleHtmlContent(data);}function getSearchParams(){return $('#main').find('.section.jobform').find('form').serialize();}function sendfriend(joid){$("#sendfriend").getFlux({'requestName':'Sendfriend','action':'edit','params':'joid='+joid,'success':sendfriend_success});}function sendfriend_success(data,textStatus,jqXHR){var PopupManager=require('digital/PopupManager');PopupManager.handleHtmlContent(data);}function rss(){$("#rss").getFlux({'requestName':'Rss','action':'select','success':rss_success});}function rss_success(data,textStatus,jqXHR){var PopupManager=require('digital/PopupManager');PopupManager.handleHtmlContent(data);}function formSubmit(formName){$("#waiting").removeClass("disabled");$(".inprogress").show();$formName=$('#'+formName);if($formName.bkValidation()){$("#waiting").siblings('.tobehideOLD').hide();$formName.submit();}else{$("#waiting").addClass("disabled");$(".inprogress").hide();}}function openWindowApplication(url,id){openZoomWindow(url,600,900,'applywindow');storeApplication(id);}function storeApplication(jobid){var url="/jobs/storeApplication.do";$.ajax({contentType:"application/html;charset=UTF-8",url:url,data:'id='+jobid,success:function(request){}});}function componentOpen(param,option){if(!param)return;var tmp=param.split("_");var nbparam=tmp?tmp.length:0;var product=tmp[0];if(product!='LatestJob'&&$('#profileitemEmpty').exists()){$('#profileNeeded').show();return;}$('#profileNeeded').hide();var paramsIframe='';if(nbparam>1)paramsIframe="id="+tmp[1];if(option&&option.params){if(paramsIframe!='')paramsIframe+='&';paramsIframe+=option.params;}var action=option&&option.action?option.action:"edit";$('#'+param).append($("#waiting").removeClass("disabled"));$('#'+param).getFlux({'requestName':product,'formName':'componentForm','action':action,'params':paramsIframe,'success':componentOpenSuccess});}function componentOpenSuccess(data,textStatus,jqXHR){var PopupManager=require('digital/PopupManager');$("#waiting").addClass("disabled");PopupManager.handleHtmlContent(data)
$('.autocomplete').each(function(){var choices=$(this).attr('id');if(choices){var ind=choices.indexOf("_choices");if(ind!=-1){var name=choices.substring(0,ind);var base=$(this).attr('data-base');autocomplete(choices,name,base?base:name,2);}}});}function modifClassRemove(){$('.modif').each(function(){$(this).removeClass('modif');});}function componentIDCreate(product,id){var newid=product;if(id)newid+="_"+id;return newid;}function componentUpdate(product,inner){var tmp=$('<div/>').html(inner);var id=tmp.find('div').attr('id');id=componentIDCreate(product,id);var idmod=$('#'+id);modifClassRemove();if(inner!="NOK"){if(idmod.length==0){var $a=$('<a/>').attr('href','javascript:componentOpen("'+id+'");');var $div=$('<div/>').attr('id',id).addClass("editButton modif").html(inner);$div.appendTo($a);$("#"+product+"List").append($a);}else{idmod.html(inner);if(!idmod.hasClass('nomodif'))idmod.addClass('modif');}}closeExtModal();}function componentRemove(product,id){id=componentIDCreate(product,id);modifClassRemove();if($("div[id='"+id+"']").length>0)$("div[id='"+id+"']").remove();closeExtModal();}function closeExtModal(){formClose();}function formClose(){$.fancybox.close();}function formDelete(product,confirmMessage,formName,id){if(($('#'+formName).length>0)&&confirm(confirmMessage)){var params=$('#'+formName).serialize();var url=getUrl({'requestName':product,'action':'delete','params':'id='+id});if(params.indexOf('id')==-1&&id)params+='&id='+id;var ajaxRequest=$.ajax({url:url,type:'POST',data:params,success:function(){componentRemove(product,id);}});closeExtModal();}}function formSave(product,formName){$formName=$('#'+formName);if(!$formName.exists())return;var validform=$formName.bkValidation();if(validform){var params=$formName.serialize();var url=getUrl({'requestName':product,'action':'update','params':'redirect=select'});$.ajax({type:'POST',url:url,data:params,success:function(request){componentUpdate(product,request);},error:function(request){}});}}function submitFriendEmailAddress(formName,errormessageemail,errormessagefriendemail,errormessageckoictzig){$formName=$('#'+formName);if(!$formName.exists())return;var validform=$formName.bkValidation();if(validform){var params=$formName.serialize();var url="/jobs/captchaSubmit";var captchalabel=$("label[for='ckoictzig']").parent();var ajaxRequest=$.ajax({type:'POST',url:url,data:params,success:function(request){if(request.length>1&&request.charAt(0)=='O'&&request.charAt(1)=='K'){var url=getUrl({'requestName':'Sendfriend','action':'update','mod_out':'JSON'});$.ajax({type:'POST',url:url,data:params,success:function(request){closeExtModal();},error:function(request){closeExtModal();}});}else captchalabel.append('<span class="validation-advice">'+errormessageckoictzig+'</span>');},error:function(request){captchalabel.append('<span class="validation-advice">'+errormessageckoictzig+'</span>');}});}}function toModePub(){$('.shownEditInPlace').each(function(){$(this).hide();$('#'+$(this).attr('id')+'_pub').show();$(this).removeClass('shownEditInPlace');});$('#validation_set').hide();}function editField(editField,editFieldTip){toModePub();var $editfield=$('#'+editField);var $editfieldpub=$('#'+editField+'_pub');var $validation_set=$('#validation_set');$editfieldpub.hide();var inner=$editfieldpub.html().replace(/^\s+|\s+$/g,'');$editfield.val(inner.charAt(0)=='<'?"":inner);$editfield.show().addClass('shownEditInPlace');$editfield.parent().append($validation_set);$validation_set.show();}function formSubmit2(){var $shown=$('.shownEditInPlace');var $shownPub=$('#'+$shown.attr('id')+'_pub');var v=$shown.val().replace(/</g,'(').replace(/>/g,')');if($shown[0].nodeName.toLowerCase()==='select')v=$shown.find(':selected').text();var value=(v=="")?($shownPub.attr('title')):v;var url=getUrl({'requestName':'Account','action':'update'});var params=$('#accountForm').serialize();$.ajax({url:url,type:'POST',data:params,success:function(request){if(request=="OK"){$shownPub.html(value);}toModePub();},error:function(){toModePub();}});}function removeAccount(confirmMessage,removeMessageOk){if(confirm(confirmMessage)){var urlremove='/jobs/userprofile.do?do=delete';var params=$('#accountForm').serialize();$.ajax({url:urlremove,type:'POST',data:params,dataType:'html',success:function(request){if(request=="OK"){alert(removeMessageOk);gotoSearch();}else alert("pb");}});}}function sharePage(target,url,title){var shareUrl='';url=self.location.protocol+"//"+self.location.host+escape(url);switch(target.toLowerCase()){case'twitter':shareUrl='https://twitter.com/intent/tweet?url='+url;break;case'facebook':shareUrl='http://www.facebook.com/sharer.php?u='+url;break;case'linkedin':shareUrl='http://www.linkedin.com/shareArticle?mini=true&url='+url;break;}if(shareUrl!=''){var _w=window.open(shareUrl,'w_share','toolbar=yes,location=yes,directories=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,copyhistory=no');if(_w)_w.focus();}}function searchfieldblur(e,t){$search=$(e);if($search.val()=='')$search.val(t);$search.parent().removeClass('focus');}function searchfieldfocus(e,t){$search=$(e);if($search.val()==t)$search.val('');$search.parent().addClass('focus');}function submitsomething(e,t){$search=$(e).find("#s");if($search.val()==t)$search.val('');}function faqquestion(faqsubjectid){window.location=window.location+"&faqsubjectid="+faqsubjectid;}function faqquestion_success(data,textStatus,jqXHR){digital.utils.openPopup(data);}function submitFaqSubject(formName,errorsubject){$formName=$('#'+formName);if(!$formName.exists())return;var validform=$formName.bkValidation();if(validform){if($formName.find('[name*="faqsubjectid"]').val()){subject=$formName.find('[name*="faqsubjectid"]').val();if(subject=="0")alert(errorsubject);else
faqquestion(subject)}else{alert(errorsubject);}}}function submitFaqQuestion(formName,errormessageemail,errormessagefriendemail,errormessageckoictzig){$formName=$('#'+formName);if(!$formName.exists())return;var validform=$formName.bkValidation();if(validform){var params=$formName.serialize();var url="/jobs/captchaSubmit";var captchalabel=$("label[for='ckoictzig']").parent();var ajaxRequest=$.ajax({type:'POST',url:url,data:params,success:function(request){if(request.length>1&&request.charAt(0)=='O'&&request.charAt(1)=='K'){$formName.submit();}else captchalabel.append('<span class="validation-advice">'+errormessageckoictzig+'</span>');},error:function(request){captchalabel.append('<span class="validation-advice">'+errormessageckoictzig+'</span>');}});}}function myalert(s){if(self.location.href.indexOf('debug=true')!=-1)alert(s);}function isIE(){if(this._isIE!==undefined)return this._isIE;return this._isIE=(navigator.appName=='Microsoft Internet Explorer');}var ieVersion=(function(){var match=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/i);if(match!==null)return parseFloat(match[1]);return 0;})();function menuInit(){this.$menu=$('#menu');var url=this.$menu.find('a.callmenu').attr('href');if(url){$menu.addClass('loading').find('.dgt-nav').load(url);}}function mapInit(){if($('#jobmap').length){}}(function($){$.fn.bkSlider=function(options){var settings={duration:400,maxWidthMultiplier:1.5};if(options)$.extend(settings,options);return this.each(function(){var $oldElement=$(this);var $slider=$('<div></div>').addClass('slider slider-on').css({'z-index':'1','overflow':'hidden','position':'relative'});var $slidesCtn=$('<div></div>').addClass('slides').css({'position':'absolute','top':'0','left':'0','width':'100%','height':'100%'}).appendTo($slider);var $prevButton=$('<span><span class="icon"></span></span>').addClass('prev').appendTo($slider).click(gotoPrevSlide);var $nextButton=$('<span><span class="icon"></span></span>').addClass('next').appendTo($slider).click(gotoNextSlide);var $slides=$oldElement.find('li > img'),$numSlides=$slides.length,$currentIndex=0;var $slideBounds=$($slides.get(0)).clone().addClass('bounds').css({'visibility':'hidden','z-index':'1'}).prependTo($slider);if(settings.maxWidthMultiplier>0)$slider.css('max-width',(parseInt($slideBounds.attr('width'))*settings.maxWidthMultiplier)+'px');$slides.each(function(index,value){var slide=$(value).css({'z-index':'1','position':'absolute','top':'0','left':(index*100)+'%','width':'100%','height':'100%'}).appendTo($slidesCtn);});function gotoNextSlide(noloop){var w=$slider.width(),l=$slidesCtn.position().left,p0=Math.round(l/w)*100,p1=Math.max(Math.min(0,p0-100),maxLeft);gotoPercent(p1);}function gotoPrevSlide(noloop){var w=$slider.width(),l=$slidesCtn.position().left,p0=Math.round(l/w)*100,p1=Math.max(Math.min(0,p0+100),maxLeft);gotoPercent(p1);}function gotoPercent(percent){$slidesCtn.stop(true).animate({'left':percent+'%'},settings.duration);}function gotoCurrentIndex(){$slidesCtn.stop(true).animate({'left':'-'+($currentIndex*100)+'%'},settings.duration);}var maxLeft=-($numSlides-1)*100,touchstartX,touchmoved=false,touchmoveX=-1,touchstartWidth=0,touchstartPercent=0,touchOn=false;function touchstartHandler(e){touchOn=e.touches.length==1;if(touchOn){touchmoved=false;touchstartX=e.touches[0].pageX;touchstartWidth=$slider.width();touchstartPercent=parseInt($slidesCtn.css('left'));}else{$slidesCtn.css({'left':touchstartPercent+'%'});}}function touchmoveHandler(e){if(touchOn){e.preventDefault();e.stopPropagation();touchmoved=true;touchmoveX=e.touches[0].pageX;var leftPercent=touchstartPercent+(touchmoveX-touchstartX)/touchstartWidth*100;if(leftPercent>0)leftPercent*=0.2;if(leftPercent<maxLeft)leftPercent=maxLeft+(leftPercent-maxLeft)*0.2;$slidesCtn.css('left',leftPercent+'%');}}function touchendHandler(e){if(touchOn&&touchmoved){var index=parseInt($slidesCtn.css('left'))/100;$slidesCtn.stop(true).animate({'left':Math.max(Math.min(0,Math.round(index)*100),maxLeft)+'%'});}}var element=$slider[0];if(element.addEventListener){element.addEventListener('touchstart',touchstartHandler,false);element.addEventListener('touchmove',touchmoveHandler,false);element.addEventListener('touchend',touchendHandler,false);element.addEventListener('touchcancel',touchendHandler,false);}$oldElement.replaceWith($slider);});};})(jQuery);jQuery.fn.highlight=function(pat){function innerHighlight(node,pat){var skip=0;if(node.nodeType==3){var pos=node.data.toUpperCase().indexOf(pat);if(pos>=0){var spannode=document.createElement('span');spannode.className='highlight';var middlebit=node.splitText(pos);var endbit=middlebit.splitText(pat.length);var middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);skip=1;}}else if(node.nodeType==1&&node.childNodes&&!/(script|style)/i.test(node.tagName)){for(var i=0;i<node.childNodes.length;++i){i+=innerHighlight(node.childNodes[i],pat);}}return skip;}return this.length&&pat&&pat.length?this.each(function(){innerHighlight(this,pat.toUpperCase());}):this;};jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode){replaceChild(this.firstChild,this);normalize();}}).end();};function init_questionnaire(q){var $q=$(q);$q.find('.radiobutton').each(function(index){$(this).mouseover(function(){$(this).addClass("radiobutton_over")});$(this).mouseout(function(){$(this).removeClass("radiobutton_over")});var rb=$(this).find('input').first();var lb=$(this).find('label').first();rb.val(0);lb.removeClass('checked');lb.click(function(){clickRadio($(this))});});$q.find('.checkbox').each(function(index){$(this).mouseover(function(){$(this).addClass("checkbox_over")});$(this).mouseout(function(){$(this).removeClass("checkbox_over")});var cb=$(this).find('input').first();var lb=$(this).find('label').first();cb.val(0);lb.removeClass('checked');lb.click(function(){clickCheckbox($(this))});});$q.find('.interlude').each(function(index){$(this).mouseover(function(){$(this).addClass("bg_suite_over")});$(this).mouseout(function(){$(this).removeClass("bg_suite_over")});$(this).click(function(){nextQuestion($(this))});$(this).hide();});$q.find('.select').each(function(i,s){$s=$(s);var options=$s.find("select option");var arr=options.map(function(_,o){return{t:$(o).text(),v:o.value,g:$(o).data('goto')};}).get();arr.sort(function(o1,o2){return o1.t>o2.t?1:o1.t<o2.t?-1:0;});options.each(function(i,o){o.value=arr[i].v;$(o).text(arr[i].t);$(o).attr("data-goto",arr[i].g);});$s.find("select").change(function(){$se=$(this);$sev=$se.val();$se.siblings("input").each(function(i,v){$v=$(v);$vid=$v.attr("id");if($vid==$sev){$v.val(1);$myq=$v.closest(".question");if($myq.hasClass('next'))highlightNext($myq);}else{$v.val(0);}});});});$q.find('.textq').each(function(i,s){$s=$(s);$s.find("input[type='text']").keyup(function(){$se=$(this);$sev=$se.val();$myq=$s.closest(".question");if($myq.hasClass('next')){if($sev.length>0){highlightNext($myq);}else if($myq.hasClass('mandatory')){removeNext($myq);}}});});$q.find('.emailq').each(function(i,s){$s=$(s);$s.find("input[type='text']").keyup(function(){$se=$(this);$sev=$se.val();$myq=$s.closest(".question");if($myq.hasClass('next')){if(/\w{1,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/.test($sev)){highlightNext($myq);}else if($myq.hasClass('mandatory')){removeNext($myq);}}});});$q.find('.bg_suite').each(function(index){$(this).mouseover(function(){$(this).addClass("bg_suite_over")});$(this).mouseout(function(){$(this).removeClass("bg_suite_over")});$(this).click(function(){nextQuestion($(this))});$(this).hide();});$q.find('.bg_abandon').each(function(index){$(this).mouseover(function(){$(this).addClass("bg_abandon_over")});$(this).mouseout(function(){$(this).removeClass("bg_abandon_over")});$(this).click(function(){returnHome($(this),questionnaire)});});var $firstelement=$("#questionnaire").find("div.question").eq(0);if($firstelement!==null){$firstelement.show();if($("#startbutton").length)$("#startbutton").show();}}function clickRadio(radio){var e=radio.parents('div.radiobutton');var rb=e.find('input').first();var lb=e.find('label').first();e.parents('div.formelement').find('div.radiobutton').each(function(Element){$(this).find('input').first().val("0");$(this).find('label').first().removeClass('checked');});rb.val(1);lb.addClass('checked');var fe=e.parents('div.question');if(fe.hasClass('next'))highlightNext(fe);}function clickCheckbox(checkbox){var e=checkbox.parents('div.checkbox');var cb=e.find('input').first();var lb=e.find('label').first();if(cb.val()==undefined)cb.val(0);if(cb.val()==1){cb.val(0);lb.removeClass('checked');}else{cb.val(1);lb.addClass('checked');}var fe=e.parents('div.question');if(fe.hasClass('next'))highlightNext(fe);}function nextQuestion(e){if(tomask=e.parents("div.question").first()){var toappear=null;tomask.find('input').each(function(index){if($(this).val()=="1"){var isgoto=$(this).data('goto')?$(this):$(this).parents("div").first();if(isgoto){var target=isgoto.data('goto');if(target!=null){if(target==-1)toappear=$('#endquestionnaire');else if(target>0)toappear=$('#Q_'+target);}}}});if(!toappear){tomask.find('div.interlude').each(function(index){var isgoto=$(this);if(isgoto){var target=isgoto.data('goto');if(target!=null){if(target==-1)toappear=$('#endquestionnaire');else if(target>0)toappear=$('#Q_'+target);}}});}if(toappear||(toappear=tomask.next())){tomask.hide();toappear.show();if(!toappear.hasClass('mandatory')&&toappear.hasClass('next'))highlightNext(toappear);}if((toappear.attr('id')=='endquestionnaire')||(toappear.hasClass('exit')))submitQuestionnaire('questionnaire');}}function previousQuestion(e){if(tomask=e.up("div.question",0)){Effect.toggle(tomask,'blind',{duration:0});if(toappear=tomask.previous(0))Effect.toggle(toappear,'appear',{duration:1.2});}}function highlightNext(e){var nextButton=e.find('.bg_suite');nextButton.show();nextButton.addClass('high_suite');}function removeNext(e){var nextButton=e.find('.bg_suite');nextButton.hide();}function getQuestionnaireRequest(questionnaire){var getstr="";$('#'+questionnaire+' input').each(function(index){if($(this).val()!="0"||$(this).attr('name')=="idoffer"||$(this).attr('name')=="code"){if(getstr!="")getstr+="&";getstr+=$(this).attr('name')+"="+$(this).val();}});$('#'+questionnaire+' textarea').each(function(index){if(getstr!="")getstr+="&";getstr+=$(this).attr('name')+"="+$(this).val();});return getstr;}function submitQuestionnaire(questionnaire){var url='/jobs/validquestionnaire.do';var getstr=getQuestionnaireRequest(questionnaire);var ajaxRequest=$.ajax({url:url+'?'+getstr,type:'get',data:'',dataType:'html',success:function(result){showQuestionnaireResults(result);},error:function(request,e){}});}function showQuestionnaireResults(result){if(result=="OK"){$('#questionnairenok').hide();$('#questionnaireok').show();$('#applyafterquestionnaire').show();}else{$('#questionnaireok').hide();$('#questionnairenok').show();$('#applyafterquestionnaire').hide();}}function returnHome(e,questionnaire){if(tomask=e.up("div.question",0)){Effect.toggle(tomask,'blind',{duration:0});}var radios=$$('#'+questionnaire+' div.radiobutton');for(var i=0;i<radios.length;i++){var rb=radios[i].select('input')[0];var lb=radios[i].select('label')[0]
rb.value="0";lb.removeClassName('checked');}var checkbox=$$('#'+questionnaire+' div.checkbox');for(var i=0;i<checkbox.length;i++){var cb=checkbox[i].select('input')[0];var lb=checkbox[i].select('label')[0]
cb.value="0";lb.removeClassName('checked');}var buttons=$$('#'+questionnaire+' div.bg_suite');for(var i=0;i<buttons.length;i++){buttons[i].observe("click",function(){nextQuestion(this)});buttons[i].hide();}buttons=$$('#'+questionnaire+' div.bg_fin');for(var i=0;i<buttons.length;i++){buttons[i].hide();}if($("startquestionnaire")){$("startquestionnaire").show();$("startbutton").show();}}function applyAfterQuestionnaire(questionnaire){var boardnameElem=$('#boardname');var url='/jobs/jobapply.do?do=edit&joid='+$('#idoffer').val();if(boardnameElem.length)url+="&board_name="+boardnameElem.val();var wmode="light";top.location=addUrl(url,wmode?'wmode='+wmode:false);}$(window).on("initHideOverflow",function(){$(this).find(".dgt-hide-overflow").children().each(function(i,elm){if($(elm).visible(true))$(elm).show();else $(elm).hide();});});function submitJoinus(myform){$myform=$(myform);var url=$myform.attr("action");var params=$myform.serialize();var successMessage=$myform.data("successmessage")||"";var errorMessage=$myform.data("errormessage")||"";function joinSubmit(){$.ajax({type:'POST',url:url,data:params,dataType:'json',success:function(request){var status=request.status||"";if(status=="OK"){$myform.html("<div class='form-ok-message'>"+successMessage+"</div>");}else if(status=="NOK"){if(request.errorMsg!="")errorMessage=request.errorMsg;$myform.find(".form-error-message").remove();$myform.prepend("<div class='form-error-message'>"+errorMessage+"</div>");}},error:function(request){$myform.html("<div class='form-error-message'>"+errorMessage+"</div>");}});}if($myform.bkValidation()){if($myform.data("ckoictzig")){var ckoictzigurl=$myform.data("ckoictzig");var errormessageckoictzig=$myform.data("errormessageckoictzig");var mesckoictzig=errormessageckoictzig+" ("+$myform.find('[name*="ckoictzig"]').val()+")";var ajaxRequest=$.ajax({type:'POST',url:ckoictzigurl,data:params,success:function(request){if(request.length>1&&request.charAt(0)=='O'&&request.charAt(1)=='K'){joinSubmit();}else{$myform.find(".form-error-message").remove();$myform.prepend("<div class='form-error-message'>"+mesckoictzig+"</div>");}},error:function(request){$myform.find(".form-error-message").remove();$myform.prepend("<div class='form-error-message'>"+mesckoictzig+"</div>");}});}else{joinSubmit();}}return false;}function isascii(str){var initlength=str.length;var myMap=[{'base':'A','letters':/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{'base':'AA','letters':/[\uA732]/g},{'base':'AE','letters':/[\u00C6\u01FC\u01E2]/g},{'base':'AO','letters':/[\uA734]/g},{'base':'AU','letters':/[\uA736]/g},{'base':'AV','letters':/[\uA738\uA73A]/g},{'base':'AY','letters':/[\uA73C]/g},{'base':'B','letters':/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{'base':'C','letters':/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{'base':'D','letters':/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{'base':'DZ','letters':/[\u01F1\u01C4]/g},{'base':'Dz','letters':/[\u01F2\u01C5]/g},{'base':'E','letters':/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{'base':'F','letters':/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{'base':'G','letters':/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{'base':'H','letters':/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{'base':'I','letters':/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{'base':'J','letters':/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{'base':'K','letters':/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{'base':'L','letters':/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{'base':'LJ','letters':/[\u01C7]/g},{'base':'Lj','letters':/[\u01C8]/g},{'base':'M','letters':/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{'base':'N','letters':/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{'base':'NJ','letters':/[\u01CA]/g},{'base':'Nj','letters':/[\u01CB]/g},{'base':'O','letters':/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{'base':'OI','letters':/[\u01A2]/g},{'base':'OO','letters':/[\uA74E]/g},{'base':'OU','letters':/[\u0222]/g},{'base':'P','letters':/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{'base':'Q','letters':/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{'base':'R','letters':/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{'base':'S','letters':/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{'base':'T','letters':/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{'base':'TZ','letters':/[\uA728]/g},{'base':'U','letters':/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{'base':'V','letters':/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{'base':'VY','letters':/[\uA760]/g},{'base':'W','letters':/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{'base':'X','letters':/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{'base':'Y','letters':/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{'base':'Z','letters':/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{'base':'a','letters':/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{'base':'aa','letters':/[\uA733]/g},{'base':'ae','letters':/[\u00E6\u01FD\u01E3]/g},{'base':'ao','letters':/[\uA735]/g},{'base':'au','letters':/[\uA737]/g},{'base':'av','letters':/[\uA739\uA73B]/g},{'base':'ay','letters':/[\uA73D]/g},{'base':'b','letters':/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{'base':'c','letters':/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{'base':'d','letters':/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{'base':'dz','letters':/[\u01F3\u01C6]/g},{'base':'e','letters':/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{'base':'f','letters':/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{'base':'g','letters':/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{'base':'h','letters':/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{'base':'hv','letters':/[\u0195]/g},{'base':'i','letters':/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{'base':'j','letters':/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{'base':'k','letters':/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{'base':'l','letters':/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{'base':'lj','letters':/[\u01C9]/g},{'base':'m','letters':/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{'base':'n','letters':/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{'base':'nj','letters':/[\u01CC]/g},{'base':'o','letters':/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{'base':'oi','letters':/[\u01A3]/g},{'base':'ou','letters':/[\u0223]/g},{'base':'oo','letters':/[\uA74F]/g},{'base':'p','letters':/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{'base':'q','letters':/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{'base':'r','letters':/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{'base':'s','letters':/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{'base':'t','letters':/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{'base':'tz','letters':/[\uA729]/g},{'base':'u','letters':/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{'base':'v','letters':/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{'base':'vy','letters':/[\uA761]/g},{'base':'w','letters':/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{'base':'x','letters':/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{'base':'y','letters':/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{'base':'z','letters':/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];for(var i=0;i<myMap.length;i++){str=str.replace(myMap[i].letters,myMap[i].base);}str=str.replace(/[^a-z0-9+]+/gi,'');return(initlength==0||str.length>0);}function westernOnly(f){f.find('input[type="text"].validate-required').each(function(i,elem){$elem.value(removeDiacritics($elem.value));});}function callRest(url,type){$node=this.$node;if(!url)return;if(!type)type='GET';$.ajax({type:type,url:url,success:function(request){if(request.status=="OK")updateRels($node);},error:function(request){}});}function updateRels(node){node.find('.dgt-ajax').each(function(i,elem){var $elem=$(elem);var url=$elem.attr('data-url')||'';var param=$elem.attr('data-param')||'';var error=$elem.attr('data-error')||'';var cache=eval($elem.attr('data-cache'))||false;var ajaxRequest=$.ajax({type:'get',url:url,data:param,cache:cache,dataType:'html',success:function(request){$elem.html(request);},error:function(request){$elem.html(error);}});});}(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s);}function decode(s){return config.raw?s:decodeURIComponent(s);}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value));}function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s;}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value;}var config=$.cookie=function(key,value,options){if(arguments.length>1&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setMilliseconds(t.getMilliseconds()+days*864e+5);}return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}var result=key?undefined:{},cookies=document.cookie?document.cookie.split('; '):[],i=0,l=cookies.length;for(;i<l;i++){var parts=cookies[i].split('='),name=decode(parts.shift()),cookie=parts.join('=');if(key===name){result=read(cookie,value);break;}if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie;}}return result;};config.defaults={};$.removeCookie=function(key,options){$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};}));function getParameterByName(name,url){if(!url){url=window.location.href;}name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));}